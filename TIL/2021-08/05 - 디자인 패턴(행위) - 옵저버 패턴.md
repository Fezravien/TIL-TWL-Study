# Today I Learned ğŸ”¥

21.08.05 ğŸ—“

## **ì˜¤ëŠ˜** **ë­** **í–ˆì§€** â‰ï¸



### ë””ìì¸ íŒ¨í„´(í–‰ìœ„) - ì˜µì €ë²„ íŒ¨í„´ 



#### ì˜µì €ë²„ íŒ¨í„´ì´ë€? 

ì˜µì €ë²„ íŒ¨í„´ì€ ë‹¤ë¥¸ íƒ€ì…ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì˜µì €ë²„ íƒ€ì…ì´ ì•Œë¦¼ì„ ë°›ëŠ” ê²½ìš°ì™€ ê°™ì€ **ê´‘ë²”ìœ„í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬**ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. 

ì˜µì €ë²„ íŒ¨í„´ì€ ê°ì²´ì˜ ê·¸ë£¹ì´ ê°ì²´ ì‚¬ì´ì— ì˜ì¡´ì„±ì„ ê±°ì˜ ê°–ì§€ ì•Šìœ¼ë©´ì„œ ì„œë¡œ í˜‘ë ¥í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

<br>

##### When

ì½”ë“œì˜ ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œ ì–´ë– í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì½”ë“œì˜ í•œ ë¶€ë¶„ ë˜ëŠ” ê·¸ ì´ìƒì˜ ë¶€ë¶„ì—ì„œ ì–´ë– í•œ í–‰ë™ì„ ìˆ˜í–‰í•´ì•¼ë§Œ í•˜ëŠ” ê²½ìš° ë°œìƒí•œë‹¤.

<br>

#### How

ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì´ë¥¼ ì „ë‹¬ë°›ê¸° ìœ„í•´ ì˜µì €ë²„ë¥¼ ë“±ë¡í•œë‹¤. 

ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆë‹¤ëŠ” ì•Œë¦¼ì„ ë°›ê²Œ ëœë‹¤.

<br>

#### What

##### **NotificationCenter**

NotificationCenter í´ë˜ìŠ¤ëŠ” ì•Œë¦¼ì„ ë“±ë¡í•˜ê±°ë‚˜ ë°œì‹  ë˜ëŠ” ìˆ˜ì‹ í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤. ëª¨ë“  ì½”ì½”ì•„ ë˜ëŠ” ì½”ì½”ì•„ í„°ì¹˜ ê¸°ë°˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ë˜ë©´ ê¸°ë³¸ì ì¸ ì•Œë¦¼ ì„¼í„°ë¥¼ í•˜ë‚˜ ê°–ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì•± ì†Œìœ ì˜ NotificationCenter í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³„ë„ë¡œ ìƒì„±í•  í•„ìš”ëŠ” ì—†ë‹¤.

```swift
enum NotificationName {
    static let increase = "Increase"
    static let decrease = "decrease"
}

final class NumberCount {
    private var number = 0
    private let notificationCenter = NotificationCenter.default
    
    // number ì¦ê°€ í›„ ì•Œë¦¼
    func increaseNumber() {
        self.number += 1
        notificationCenter.post(name: NSNotification.Name(rawValue: NotificationName.increase), object: nil)
    }
    
    // number ê°ì†Œ í›„ ì•Œë¦¼
    func decreaseNumber() {
        self.number -= 1
        notificationCenter.post(name: NSNotification.Name(rawValue: NotificationName.decrease), object: nil)
    }
}

final class NumberManager {
    private let notificationCenter = NotificationCenter.default
    
    init() {
        // ì¦ê°€ ì˜µì €ë²„
        notificationCenter.addObserver(self, 
                                       selector: #selector(receiverNotificationIncrease(notification:)), 
                                       name: Notification.Name(NotificationName.increase), 
                                       object: nil)
        // ê°ì†Œ ì˜µì €ë²„
        notificationCenter.addObserver(self, 
                                       selector: #selector(receiverNotificationDecrease(notification:)), 
                                       name: Notification.Name(NotificationName.decrease), 
                                       object: nil)
    }
    
    @objc func receiverNotificationIncrease(notification: Notification) {
        print("Increase Number !!")
    }
    
    @objc func receiverNotificationDecrease(notification: Notification) {
        print("Decrease Number !!")
    }
}

let numberCount = NumberCount()
let numberManager = NumberManager()
numberCount.increaseNumber() // Increase Number !!
numberCount.decreaseNumber() // Decrease Number !!
```

<br>

##### **Delegate Pattern**, Property Observer

```swift
protocol NumberObserver {
    func increaseNumber()
    func decreaseNumber()
}

final class NumberCount: NumberObserver {
    var observerCloser: () -> () = { }
    
    private var number = 0 {
        didSet {
            observerCloser()
        }
    }

    func increaseNumber() {
        self.number += 1
        print("Increase Number !!")
    }

    func decreaseNumber() {
        self.number -= 1
        print("Decrease Number !!")
    }
}

final class NumberManager {
    var numberObserver: NumberObserver?

    init(numberObserver: NumberObserver) {
        self.numberObserver = numberObserver
    }

    func increaseNumber() {
        numberObserver?.increaseNumber()
    }

    func decreaseNumber() {
        numberObserver?.decreaseNumber()
    }
}

let numberCount = NumberCount()
numberCount.observerCloser = { print("Changed Value") }
let numberManager = NumberManager(numberObserver: numberCount)
numberManager.increaseNumber()
numberManager.decreaseNumber()
// Changed Value
// Increase Number !!
// Changed Value
// Decrease Number !
```















